name: GitHub Workflows
on:
  workflow_dispatch:
    inputs:
      FS:
        description: 'Do you want to free up space before running? (This process takes about 5 minutes)'
        required: true
        default: 'no'
        type: choice
        options:
          - 'no'
          - 'yes'
      ERROR:
        description: 'Keep running when command fails?'
        required: true
        default: 'true'
        type: choice
        options:
          - 'false'
          - 'true'
      CM1:
        description: 'Command 1'
        required: false
        default: ''
      CM2:
        description: 'Command 2'
        required: false
        default: ''
      CM3:
        description: 'Command 3'
        required: false
        default: ''
      CM4:
        description: 'Command 4'
        required: false
        default: ''
      CM5:
        description: 'Command 5'
        required: false
        default: ''
      CM6:
        description: 'Command 6'
        required: false
        default: ''
      CM7:
        description: 'Command 7'
        required: false
        default: ''
      PATH:
        description: 'Export file (File/Folder)'
        required: false
        default: ''
jobs:
  Actions:
    runs-on: ubuntu-20.04
    permissions:
      actions: write
      checks: write
      contents: write
      deployments: write
      id-token: write
      issues: write
      discussions: write
      packages: write
      pages: write
      pull-requests: write
      repository-projects: write
      security-events: write
      statuses: write
    steps:
      - name: Checkout
        uses: actions/checkout@master

      - name: Free up space
        run: bash sh/${{ inputs.FS }}.sh
        continue-on-error: ${{ inputs.ERROR }}

      - name: Running Command 1
        run: ${{ inputs.CM1 }}
        continue-on-error: ${{ inputs.ERROR }}

      - name: Running Command 2
        run: ${{ inputs.CM2 }}
        continue-on-error: ${{ inputs.ERROR }}
        
      - name: Running Command 3
        run: ${{ inputs.CM3 }}
        continue-on-error: ${{ inputs.ERROR }}

      - name: Running Command 4
        run: ${{ inputs.CM4 }}
        continue-on-error: ${{ inputs.ERROR }}

      - name: Running Command 5
        run: ${{ inputs.CM5 }}
        continue-on-error: ${{ inputs.ERROR }}

      - name: Running Command 6
        run: ${{ inputs.CM6 }}
        continue-on-error: ${{ inputs.ERROR }}

      - name: Running Command 7
        run: ${{ inputs.CM7 }}
        continue-on-error: ${{ inputs.ERROR }}

      - name: Upload to Artifacts
        uses: actions/upload-artifact@v3
        with:
          name: Exported File
          path: ${{ inputs.PATH }}
